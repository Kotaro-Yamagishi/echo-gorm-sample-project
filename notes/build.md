## Goのビルドプロセスの概要
Goソースコード
   ↓
go build
   ↓
① コンパイル（.go → 中間表現 SSA → 機械語）
② リンカでバイナリ生成（外部パッケージなどを含めて一体化）
③ 実行ファイル（静的リンクされたバイナリ）が生成される

## 学習テーマ
### Goビルドの仕組み
go build, go install, go mod, go run
実際のワークフロー

#### go build
ソースコードをビルドして実行ファイルを生成する

#####  実行ファイルの中身（Goのバイナリ）
| 種別            | 内容                                     |
| ------------- | -------------------------------------- |
| ELF / PE 形式   | OSに依存したバイナリ形式（LinuxならELF, WindowsならPE） |
| Goランタイム       | ガベージコレクタ、スケジューラなどのGoの実行時機能             |
| コンパイル済みのコード   | ソースからビルドされたmain関数などのロジック               |
| リテラルデータ       | 文字列定数、構造体の初期値など                        |
| デバッグ情報（オプション） | `-gcflags=all=-N -l` を指定すれば埋め込まれる      |



#### go install
ビルドして $GOBIN または GOPATH/bin にバイナリをインストール（グローバルに使えるようにする）。
go build+バイナリをインストールする動作

普通にinstallした場合はバイナリがローカルに格納されるの？もしローカルでないならインターネット環境下でないと参照できないor build無理？
modへの影響は？
buildすることでそのバイナリが実行ファイルに組み込まれる？

#### go run
ソースファイルを一時的にビルドして即時実行する
実行ファイルは/tmpなどに一時的に生成

#### go mod
モジュール（Goの依存管理）に関する操作全般

##### go.modは何を管理している？
プロジェクトに必要な依存モジュール（ライブラリ）を定義
require → 必須の依存モジュール
replace → モジュールのパスやバージョンを置き換え
go → Goのバージョン宣言

#### $GOBIN にバイナリを置くことと、go.mod で依存ライブラリを管理することの違い
##### ＄GOBINとは
Goの実行ファイル（バイナリ）を配置するディレクトリ

#### バイナリ
ビルドされたファイル
go build や go install を通じて OS/CPUに合わせた実行可能な形式（Linuxなら ELF、Macなら Mach-O、Windowsなら .exe）に変換される
バイナリは単独で動作する自己完結型プログラム


##### $GOBIN にバイナリを置くこと
CLIツールや実行バイナリを使いたい
go install は、誰かが作った Go アプリケーション（＝main パッケージ）をビルドし、ローカルの $GOBIN にバイナリとして配置して、コマンドラインから実行できるようにする仕組み

##### go.modで管理する
コード内でライブラリとして利用したい
go getでライブラリをmodに追加するか、ソースコードでimportしていたらgo mod tidyコマンドで自動でライブラリがmodに追加される



##### コマンド一覧
go mod init <モジュール名> → モジュール初期化 (go.mod 作成)
go mod tidy → 使っていない依存を削除・必要な依存を追加
go mod vendor → 依存ライブラリを vendor フォルダにコピー
go mod download → モジュールの依存をダウンロード


### コンパイラ理論
go tool comile
SSA（Static Single Assignment）や中間表現（IR）、型チェックの仕組み

### リンカの仕組み
go build -ldflags
Goの性的リンクと動的リンクの違い、リンカフラグ（-ldflangs）

### Goランタイム
GoDEBUG変数など
ガベージコレクション、スケジューラ（M:Nスケジューリング）、ヒープ管理

### アセンブリとの関係
Goコード→ASM
go tool compile -S, objdump を使って機械語を見る方法

### ツールチェインの理解
go tool compile, go tool link, go tool objdump の使い方


## コンパイラ理論
### Goコンパイラのステージ
Goコード
  ↓ (パーサ)
抽象構文木 (AST)
  ↓ (型チェック)
型付きAST
  ↓ (SSA生成)
中間表現 (IR)
  ↓ (最適化/コード生成)
マシンコード

### SSAとは
各変数が一度だけ代入される形式に変換した中間表現のこと